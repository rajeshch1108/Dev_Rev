<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlightBooking</title>
    <link rel="icon" type="image/x-icon" href="flyhigh.png">
    <script src="https://kit.fontawesome.com/265aaa2447.js" crossorigin="anonymous"></script>   
    <link rel="stylesheet" href="userhome.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="flightbooking.css">
</head>
<body>
    <header>
        <i class="fa-solid fa-bars" onclick="openMenu()"></i>
        <img src="flyhigh.png">
    </header>
    <div class="slide">
        <ul id="sidemenu" class="sidemenu">
            <h1>Menu</h1>
            <li><a href="userhome.html">Dashboard</a></li>
            <li><a href="#">Flight Booking</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="#">Offers</a></li>
            <li><a href="History.html">History</a></li>
            <li><a href="" id="logout">LogOut</a></li>
            <i class="fa-solid fa-xmark" onclick="closeMenu()"></i>
        </ul>
    </div>


    <div class="location-selection">
        <h4>Select Your Respective Pickup & Drop Points</h4>
        <div class="from">
            <label for="fromLocation" class="label-from">From:</label>
            <select id="fromLocation" name="fromLocation" class="fromLocation">
                <option value="new-york">New York</option>
                <option value="london">London</option>
                <option value="paris">Paris</option>
                <option value="toronto">Toronto</option>
                <option value="hyderabad">Hyderabad</option>
            </select>
        </div>
        
        <br>
        <div class="to">
            <label for="toLocation" class="label-from">To:</label>
            <select id="toLocation" name="toLocation" class="fromLocation">
                <option value="new-york">New York</option>
                <option value="london">London</option>
                <option value="paris">Paris</option>
                <option value="toronto">Toronto</option>
                <option value="hyderabad">Hyderabad</option>
            </select>
        </div>
        
        <br>
    
        <button onclick="nextPage()">Submit</button>
    </div>

    <script>
        var sidemenu = document.getElementById('sidemenu');

        function openMenu(){
            sidemenu.style.left = "0";
        }

        function closeMenu(){
            sidemenu.style.left = "-280px";
        }
    </script>

    <script>
        function nextPage(){
            var fromLocation = document.querySelector('#fromLocation').value;
            var toLocation = document.querySelector('#toLocation').value;
            if(fromLocation.toString() == toLocation.toString()){
                alert("Please select different locations for source and destination")
            } else{
                localStorage.setItem("From", fromLocation);
                localStorage.setItem("To", toLocation)
                window.location = 'flights.html';
            }
        }
    </script>
</body>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
  
    import { update, getDatabase, ref, child, onValue, get, set } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js"
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyDdbV0ca3tQKg-eE4MlL2dcPMhpzIdtcf8",
        authDomain: "devrev-7d849.firebaseapp.com",
        databaseURL: "https://devrev-7d849-default-rtdb.firebaseio.com/",
        projectId: "devrev-7d849",
        storageBucket: "devrev-7d849.appspot.com",
        messagingSenderId: "503286320703",
        appId: "1:503286320703:web:5947cd2198e0b7ff49328a"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
  
    const db = getDatabase();
    const auth = getAuth(app);
    document.getElementById('logout').addEventListener('click', function(){
        signOut(auth).then(() => {
            alert("Logged out successfully");
            window.location.replace("index.html")
        }).catch((error) => {
        // An error happened.
        alert(error);
        });
    })

  </script>
</html>